"use strict";function testWebP(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function placeholders(){const e=document.querySelectorAll(".input"),t=document.querySelectorAll(".textarea");return!!e&&(e.forEach(e=>{e.addEventListener("focus",(function(t){e.setAttribute("placeholder","")}));const t=e.placeholder;e.addEventListener("blur",(function(o){e.setAttribute("placeholder",t)}))}),!!t&&void t.forEach(e=>{e.addEventListener("focus",(function(t){e.setAttribute("placeholder","")}));const t=e.placeholder;e.addEventListener("blur",(function(o){e.setAttribute("placeholder",t)}))}))}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const form=document.querySelectorAll("form"),inputForm=document.querySelectorAll("input");function mask(){if(!form)return!1;form.forEach(e=>{document.querySelectorAll("[name]").forEach(e=>{e.addEventListener("input",t=>{let o=e.getAttribute("name");if("form[tel]"===o){let e=t.target.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);t.target.value=e[2]?"("+e[1]+") "+e[2]+(e[3]?"-"+e[3]:""):e[1]}if("form[name]"===o&&(t.target.value=t.target.value.replace(/[0-9]/g,"")),"form[email]"!==o)return!1})})})}const validate=()=>{form.forEach(e=>{e.addEventListener("submit",e=>{if(e.target){e.preventDefault();const t=e.target;if(!e.target.classList.contains("error")){document.querySelectorAll("[name]").forEach((e,o,r)=>{""==e.value&&(t.classList.add("error"),setTimeout(()=>{t.classList.remove("error")},4e3));const l=e.getAttribute("name"),n=()=>{e.insertAdjacentHTML("beforebegin",'<div class="invalid">Поле пустое</div>'),e.style.border="",setTimeout(()=>{e.previousSibling.remove()},4e3)};e.style.border="1px solid green";if("form[name]"===l&&(""!==e.value&&null!==e.value||n()),"form[tel]"===l&&e.value.length<=9&&n(),"form[email]"===l&&(""!==e.value&&null!==e.value||n()),!t.classList.contains("error")&&""!==r){const t=e.value;console.log(t)}})}}})})};function bindModal(e,t,o){const r=document.querySelectorAll(e),l=document.querySelector(t),n=document.querySelector(o),a=document.querySelectorAll(".modal__close-btn");r.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),l.classList.add("active"),n.classList.add("active"),document.body.style.overflow="hidden"})}),a.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),l.classList.remove("active"),n.classList.remove("active"),document.body.style.overflow=""})}),l.addEventListener("click",e=>{e.target===l&&(l.classList.remove("active"),n.classList.remove("active"),document.body.style.overflow="")})}bindModal(".modal-btn--1",".modal--1",".modal__inner--1"),bindModal(".modal-btn--2",".modal--2",".modal__inner--2"),bindModal(".modal-btn--3",".modal--3",".modal__inner--3");const moreContent=()=>{const e=document.querySelector(".project__btn-link"),t=document.querySelector(".project__inner--more");e.addEventListener("click",e=>{e.preventDefault(),e.target.parentNode.classList.add("active"),setTimeout(()=>{t.classList.add("active")},200)})};window.addEventListener("DOMContentLoaded",()=>{moreContent(),placeholders(),mask(),form.forEach(e=>{e.addEventListener("submit",e=>{if(e.target){e.preventDefault();const t=e.target;e.target.classList.contains("error")||document.querySelectorAll("[name]").forEach((e,o,r)=>{""==e.value&&(t.classList.add("error"),setTimeout(()=>{t.classList.remove("error")},4e3));const l=e.getAttribute("name"),n=()=>{e.insertAdjacentHTML("beforebegin",'<div class="invalid">Поле пустое</div>'),e.style.border="",setTimeout(()=>{e.previousSibling.remove()},4e3)};if(e.style.border="1px solid green","form[name]"===l&&(""!==e.value&&null!==e.value||n()),"form[tel]"===l&&e.value.length<=9&&n(),"form[email]"===l&&(""!==e.value&&null!==e.value||n()),!t.classList.contains("error")&&""!==r){const t=e.value;console.log(t)}})}})})});